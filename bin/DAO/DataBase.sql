CREATE DATABASE acadsystem;
USE acadsystem;

CREATE TABLE Publicacao (
PUBL_ID INTEGER PRIMARY KEY,
PUBL_TITULO VARCHAR(50),
PUBL_DATAPUBLICADA DATE,
PUBL_TIPO VARCHAR(15),
ALU_RA INTEGER
);

CREATE TABLE Usuario (
USU_ID INTEGER PRIMARY KEY,
USU_NOME VARCHAR(50),
USU_TEL VARCHAR(14),
USU_SENHA VARCHAR(20),
USU_TIPO VARCHAR(20)
);

CREATE TABLE Aluno (
ALU_RA INTEGER PRIMARY KEY,
ALU_NOME VARCHAR(50),
ALU_SEXO VARCHAR(1),
ALU_DATANASC DATE,
ALU_CPF VARCHAR(14),
ALU_FILIACAO VARCHAR(50),
ALU_ENDERECO VARCHAR(50),
ALU_TELEFONE VARCHAR(14),
ALU_DATAMATRI DATE,
ALU_DISCCON VARCHAR(250),
ALU_DISCPEND VARCHAR(250),
ALU_CRED INTEGER,
ALU_PROFIC VARCHAR(30),
ALU_SISTEMA VARCHAR(20),
ALU_CURSO VARCHAR(20),
ORIENT_ID INTEGER,
CUR_ID INTEGER
);

CREATE TABLE Orientador (
ORIENT_ID INTEGER PRIMARY KEY,
ORIENT_NOME VARCHAR(50),
ORIENT_DATANASC DATE,
ORIENT_CPF VARCHAR(14),
ORIENT_INSTITUICAO VARCHAR(50),
ORIENT_TITULACAO VARCHAR(50)
);

CREATE TABLE Curso(
CUR_ID  INTEGER PRIMARY KEY,
CUR_DESCRICAO VARCHAR(50)
);


ALTER TABLE Publicacao ADD FOREIGN KEY(ALU_RA) REFERENCES Aluno (ALU_RA) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE Aluno ADD FOREIGN KEY(ORIENT_ID) REFERENCES Orientador (ORIENT_ID) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE Aluno ADD FOREIGN KEY(CUR_ID) REFERENCES Curso (CUR_ID) ON UPDATE CASCADE ON DELETE CASCADE;


INSERT INTO USUARIO (USU_ID, USU_NOME, USU_TEL, USU_SENHA, USU_TIPO) VALUES (1, 'admin', '(81)99999-9999', 'admin', 'ADMINISTRADOR');
INSERT INTO USUARIO (USU_ID, USU_NOME, USU_TEL, USU_SENHA, USU_TIPO) VALUES (2, 'Gustavo', '(81)99832-8302', '123', 'NORMAL');

INSERT INTO CURSO (CUR_ID, CUR_DESCRICAO) VALUES (1, 'Analise e Desenvolvimento de Sistemas');
INSERT INTO CURSO (CUR_ID, CUR_DESCRICAO) VALUES (2, 'Ciência da Computação');
INSERT INTO CURSO (CUR_ID, CUR_DESCRICAO) VALUES (3, 'Engenharia da Computação');
INSERT INTO CURSO (CUR_ID, CUR_DESCRICAO) VALUES (4, 'Sistema da Informação');

INSERT INTO ORIENTADOR (ORIENT_ID, ORIENT_NOME, ORIENT_DATANASC, ORIENT_CPF, ORIENT_INSTITUICAO, ORIENT_TITULACAO) VALUES (1, 'Flavio', '1992-02-20', '238.057.302-09', 'UPE', 'MESTRE');
INSERT INTO ORIENTADOR (ORIENT_ID, ORIENT_NOME, ORIENT_DATANASC, ORIENT_CPF, ORIENT_INSTITUICAO, ORIENT_TITULACAO) VALUES (2, 'Geraldo Gomes', '1995-07-30', '902.236.109-94', 'UFRPE', 'ESPECIALISTA');
INSERT INTO ORIENTADOR (ORIENT_ID, ORIENT_NOME, ORIENT_DATANASC, ORIENT_CPF, ORIENT_INSTITUICAO, ORIENT_TITULACAO) VALUES (3, 'Jos�', '1985-06-24', '320.452.536-62', 'UNICAMP', 'DOUTOR(A)');
